

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cityseer API Docs &mdash; Cityseer 0.1.8 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> Cityseer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Cityseer API Docs</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#module-cityseer.centrality">Docs</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Cityseer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Cityseer API Docs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cityseer-api-docs">
<h1>Cityseer API Docs<a class="headerlink" href="#cityseer-api-docs" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
<div class="section" id="module-cityseer.centrality">
<span id="docs"></span><h1>Docs<a class="headerlink" href="#module-cityseer.centrality" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-centrality"></span><dl class="function">
<dt id="cityseer.centrality.centrality">
<code class="descclassname">cityseer.centrality.</code><code class="descname">centrality</code><span class="sig-paren">(</span><em>node_map</em>, <em>link_map</em>, <em>distances</em>, <em>threshold_weight=0.01831563888873418</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cityseer/centrality.html#centrality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityseer.centrality.centrality" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>node_map</strong> – </li>
<li><strong>link_map</strong> – </li>
<li><strong>distances</strong> – </li>
<li><strong>threshold_weight</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cityseer.centrality.compute_centrality">
<code class="descclassname">cityseer.centrality.</code><code class="descname">compute_centrality</code><a class="reference internal" href="_modules/cityseer/centrality.html#compute_centrality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityseer.centrality.compute_centrality" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>node_map</strong> – </li>
<li><strong>link_map</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cityseer.centrality.custom_decay_betas">
<code class="descclassname">cityseer.centrality.</code><code class="descname">custom_decay_betas</code><span class="sig-paren">(</span><em>beta: (&lt;class 'float'&gt;</em>, <em>&lt;class 'list'&gt;</em>, <em>&lt;class 'numpy.ndarray'&gt;)</em>, <em>threshold_weight: float = 0.01831563888873418</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cityseer/centrality.html#custom_decay_betas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityseer.centrality.custom_decay_betas" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience function for mapping <span class="math notranslate nohighlight">\(-\beta\)</span> decay parameters to equivalent distance thresholds corresponding to a <cite>threshold_weight</cite> cutoff parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>beta</strong> – The <span class="math notranslate nohighlight">\(-\beta\)</span> that you wish to convert to distance thresholds.</li>
<li><strong>threshold_weight</strong> – The <span class="math notranslate nohighlight">\(w_{min}\)</span> threshold.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A numpy array of effective <span class="math notranslate nohighlight">\(d_{max}\)</span> distances at the corresponding <span class="math notranslate nohighlight">\(w_{min}\)</span> threshold.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no need to use this function unless you wish to provide your own <span class="math notranslate nohighlight">\(-\beta\)</span> or <cite>threshold_weight</cite> parameters to the <a class="reference internal" href="#cityseer.centrality.compute_centrality" title="cityseer.centrality.compute_centrality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cityseer.centrality.compute_centrality()</span></code></a> method.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Remember to pass both the <span class="math notranslate nohighlight">\(d_{max}\)</span> and <span class="math notranslate nohighlight">\(w_{min}\)</span> to <a class="reference internal" href="#cityseer.centrality.compute_centrality" title="cityseer.centrality.compute_centrality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cityseer.centrality.compute_centrality()</span></code></a>.</p>
</div>
<p>The weighted variants of centrality, e.g. gravity or weighted betweenness, are computed using a negative exponential decay function of the form:</p>
<div class="math notranslate nohighlight">
\[weight = exp(-\beta \cdot distance)\]</div>
<p>The strength of the decay is controlled by the <span class="math notranslate nohighlight">\(-\beta\)</span> parameter, which reflects a decreasing willingness to walk correspondingly farther distances.
For example, if <span class="math notranslate nohighlight">\(-\beta=0.005\)</span> represents a person’s willingness to walk to a bus stop, then a location 100m distant would be weighted at 60% and a location 400m away would be weighted at 13.5%. After an initially rapid decrease, the weightings decay ever more gradually in perpetuity. At some point, it becomes futile to consider locations any farther away, so it is necessary to set a a minimum weight threshold <span class="math notranslate nohighlight">\(w_{min}\)</span> corresponding to a maximum distance of <span class="math notranslate nohighlight">\(d_{max}\)</span>.</p>
<p>The <a class="reference internal" href="#cityseer.centrality.compute_centrality" title="cityseer.centrality.compute_centrality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cityseer.centrality.compute_centrality()</span></code></a> method computes the <span class="math notranslate nohighlight">\(-\beta\)</span> parameters automatically, using a default minimum <cite>threshold_weight</cite> of <span class="math notranslate nohighlight">\(w_{min}=0.01831563888873418\)</span>.</p>
<div class="math notranslate nohighlight">
\[\beta = \frac{log\big(\frac{1}{w_{min}}\big)}{d_{max}}\]</div>
<p>Therefore, <span class="math notranslate nohighlight">\(-\beta\)</span> weights corresponding to <span class="math notranslate nohighlight">\(d_{max}\)</span> walking thresholds of 400m, 800m, and 1600m would give:</p>
<table border="1" class="docutils align-center">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(d_{max}\)</span></td>
<td><span class="math notranslate nohighlight">\(-\beta\)</span></td>
</tr>
<tr class="row-even"><td>400m</td>
<td>-0.01</td>
</tr>
<tr class="row-odd"><td>800m</td>
<td>-0.005</td>
</tr>
<tr class="row-even"><td>1600m</td>
<td>-0.0025</td>
</tr>
</tbody>
</table>
<p>In reality, people may be more or less willing to walk based on the specific purpose of the trip and the pedestrian-friendliness of the urban context. If overriding the defaults, or to use a custom <span class="math notranslate nohighlight">\(-\beta\)</span> or a different <span class="math notranslate nohighlight">\(w_{min}\)</span> threshold, then this function can be used to generate the effective <span class="math notranslate nohighlight">\(d_{max}\)</span> values, which can then be passed to <a class="reference internal" href="#cityseer.centrality.compute_centrality" title="cityseer.centrality.compute_centrality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cityseer.centrality.compute_centrality()</span></code></a> along with the specified <span class="math notranslate nohighlight">\(w_{min}\)</span>.</p>
</dd></dl>

<dl class="function">
<dt id="cityseer.centrality.graph_from_networkx">
<code class="descclassname">cityseer.centrality.</code><code class="descname">graph_from_networkx</code><span class="sig-paren">(</span><em>network_x_graph: networkx.classes.graph.Graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cityseer/centrality.html#graph_from_networkx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityseer.centrality.graph_from_networkx" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>network_x_graph</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Gareth Simons

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>